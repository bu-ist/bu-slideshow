jQuery(document).ready(function(o){var t=jQuery(window).height(),n=jQuery(window).width(),l={};function s(){o(".bu-slideshow-navigation").css("height",0),o(".bu-slideshow-container").each(function(){var t,e,i=o(this).find("li .bu-slide-container"),n=0,s=0,a=0,r=0;a=0;i.find("*").each(function(e,i){(t=o(i)).find("img")&&t.attr("src")&&(r=t.height(),a<r&&(a=r)),t.hasClass("caption-under-slide")&&(s=o("div.caption-under-slide p:nth-child(1)").height(),s+=o("div.caption-under-slide p:nth-child(2)").height(),n<(s+=s)&&(n=s))}),o("DIV.caption-under-slide").css("height",n),o("DIV.caption-under-slide").css("top",a),e=a+n,o("DIV.bu-slideshow-container").css("height",e),o(".bu-slideshow-arrow-right").css("top",.85*a),o(".bu-slideshow-arrow-left").css("top",.85*a),o(".bu-slideshow-navigation").css("top",.9*a)})}function w(e){if(!(this instanceof w))throw new ReferenceError('Invoked constructor as regular function. Use the "new" operator.');if(!e.show)throw new TypeError("Did not pass a valid Sequence object.");if(!e.container)throw new ReferenceError("Did not pass a valid container element.");this.sequence=e.show,this.container=e.container,this.init(e)}(window.BuSlideshow=w).prototype.init=function(e){var i=this;e||(e={}),this.sequence.afterLoaded=function(){var e=i.container.parent("div.bu-slideshow-container");e.find(".slideshow-loader.active").removeClass("active"),e.find(".bu-slideshow-navigation-container").css("display","inline-block"),s()},this.sequence.beforeNextFrameAnimatesIn=function(){i.pager&&i.pager.setActive()},this.pager=!!o("#"+e.pager).length&&o("#"+e.pager),this.pager&&this.initPager(),this.arrows=!!o("#"+e.arrows).length&&o("#"+e.arrows),this.arrows&&this.initArrows()},w.prototype.initPager=function(){var i=this;this.pager.find("li a").bind("click",function(){var e=o(this).attr("id").replace("pager-","");return i.sequence.nextFrameID=e,i.sequence.goTo(e),!1}),this.pager.setActive=function(e){e=i.sequence.nextFrameID,this.find("a").removeClass("active"),this.find("a#pager-"+e).addClass("active")}},w.prototype.initArrows=function(){var e=this;this.arrows.find(".bu-slideshow-arrow-left").bind("click",function(){return e.sequence.prev(),!1}).end().find(".bu-slideshow-arrow-right").bind("click",function(){return e.sequence.next(),!1})},jQuery(document).ready(function(u){u(".bu-slideshow-container").each(function(e,i){var t,n,s,a,r,o,d,c=u(this),h=!1;t=c.find(".bu-slideshow-slides"),n=c.find("ul.bu-slideshow-navigation").attr("id"),s=c.find("div.bu-slideshow-arrows").attr("id"),o=c.attr("data-slideshow-name")?c.attr("data-slideshow-name"):e,d=c.attr("data-slideshow-delay")?c.attr("data-slideshow-delay"):5e3,c.hasClass("autoplay")&&(h=!0),a={autoPlay:h,autoPlayDelay:d,fallback:{theme:"slide"},swipeEvents:{left:"next",right:"prev"}},r={show:t.sequence(a).data("sequence"),container:t,pager:n,arrows:s};try{l[o]=new w(r)}catch(e){}}),u(window).resize(function(){var e,i;e=u(window).height(),i=u(window).width(),e===t&&i===n||(t=e,n=i,s())})})}(jQuery));