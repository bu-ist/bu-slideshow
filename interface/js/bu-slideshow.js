/* IE triggers resize all over the place, so we check actual window dimensions */windowHeight=jQuery(window).height();windowWidth=jQuery(window).width();jQuery(document).ready(function($){function bu_resize_slideshow(){$(".bu-slideshow-container").each(function(){var container=$(this),slides=container.find("li .bu-slide-container"),$el,height=0,currentHeight=0;slides.find("*").each(function(i,el){$el=$(el);currentHeight=$el.height();currentHeight>height&&(height=currentHeight)});slides.each(function(i,el){$(el).height(height)});container.height(height);container.find("ul.bu-slideshow").height(height)})}window.buSlideshows={};var container,pagerId,options,args,rotator,imgHeight;window.BuSlideshow=function BuSlideshow(args){if(!(this instanceof BuSlideshow))throw new ReferenceError('Invoked constructor as regular function. Use the "new" operator.');if(!args.show)throw new TypeError("Did not pass a valid Sequence object.");if(!args.container)throw new ReferenceError("Did not pass a valid container element.");this.sequence=args.show;this.container=args.container;this.init(args)};BuSlideshow.prototype.init=function(args){var that=this;args||(args={});this.sequence.afterLoaded=bu_resize_slideshow;this.sequence.beforeNextFrameAnimatesIn=function(){that.pager&&that.pager.setActive()};this.pager=$("#"+args.pager).length?$("#"+args.pager):!1;this.pager&&this.initPager();this.arrows=$("#"+args.arrows).length?$("#"+args.arrows):!1;this.arrows&&this.initArrows()};BuSlideshow.prototype.initPager=function(){var that=this;this.pager.find("li a").bind("click",function(){var id=$(this).attr("id").replace("pager-","");that.sequence.nextFrameID=id;that.sequence.goTo(id);return!1});this.pager.setActive=function(nextId){nextId=that.sequence.nextFrameID;this.find("a").removeClass("active");this.find("a#pager-"+nextId).addClass("active")}};BuSlideshow.prototype.initArrows=function(){var that=this;this.arrows.find(".bu-slideshow-arrow-left").bind("click",function(){that.sequence.prev();return!1}).end().find(".bu-slideshow-arrow-right").bind("click",function(){that.sequence.next();return!1})};$(".bu-slideshow-container").each(function(index,el){var $this=$(this),autoplay=!1,container,pagerId,arrowId,options,args,name;container=$this.find(".bu-slideshow-slides");pagerId=$this.find("ul.bu-slideshow-navigation").attr("id");arrowId=$this.find("div.bu-slideshow-arrows").attr("id");name=$this.attr("data-slideshow-name")?$this.attr("data-slideshow-name"):index;$this.hasClass("autoplay")&&(autoplay=!0);options={autoPlay:autoplay,fallback:{theme:"slide"}};args={show:container.sequence(options).data("sequence"),container:container,pager:pagerId,arrows:arrowId};buSlideshows[name]=new BuSlideshow(args)});$(window).resize(function(){var currentHeight,currentWidth;currentHeight=$(window).height();currentWidth=$(window).width();if(currentHeight!==windowHeight||currentWidth!==windowWidth){windowHeight=currentHeight;windowWidth=currentWidth;bu_resize_slideshow()}})});